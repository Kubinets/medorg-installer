## MedOrg Installer

Автоматический установщик медицинской программы MedOrg с анимированным интерфейсом.

## 🚀 Быстрая установка

```
curl -sSL https://raw.githubusercontent.com/kubinets/medorg-installer/main/install.sh | sudo bash
```

## ✨ Особенности

- 🎨 Анимированный интерфейс с эффектом печатающей машинки
- ⚡ Автоматическая установка всех зависимостей
- 🍷 Настройка Wine с необходимыми компонентами
- 📁 Копирование программы с сетевой шары
- 🔧 Исправление проблем с midas.dll
- 🖥️ Создание ярлыков на рабочем столе

## 📦 Системные зависимости

### 🛠️ Основные утилиты

| Пакет | Назначение |
| --- | --- |
| `wget`, `curl` | Загрузка файлов из интернета |
| `cabextract` | Распаковка CAB-архивов Microsoft |
| `p7zip`, `unzip` | Работа с архивами |
| `icoutils` | Работа с иконками Windows (.ico) |
| `ImageMagick` | Обработка изображений |

### 🎨 Графические библиотеки

| Пакет | Назначение |
| --- | --- |
| `freetype`, `fontconfig` | Отображение шрифтов |
| `libX11`, `libXext` | Базовые библиотеки X Window |
| `libXcursor`, `libXi` | Поддержка ввода и курсора |
| `libXrandr`, `libXinerama` | Многомониторная поддержка |
| `mesa-libGLU` | 3D-графика OpenGL |

### 🌐 Сетевое взаимодействие

| Пакет | Назначение |
| --- | --- |
| `cifs-utils` | Доступ к Windows-шарам (SMB/CIFS) |
| `nfs-utils` | Доступ к NFS-шарам |

### 🍷 Wine и компоненты

| Пакет | Назначение |
| --- | --- |
| `wine` | Эмулятор Windows API |
| `wine.i686` | Поддержка 32-битных приложений |
| `winetricks` | Установка Windows-компонентов |

## 📊 Модули программы

### 📍 Обязательные модули

```
Lib         # Основные библиотеки
LibDRV      # Библиотеки для оборудования
LibLinux    # Специфичные библиотеки Linux
```

### 📁 Все доступные модули

text

```
┌─────────────────┬─────────────────┬─────────────────┐
│ Admin           │ BolList         │ DayStac         │
├─────────────────┼─────────────────┼─────────────────┤
│ Dispanser       │ DopDisp         │ Econ            │
├─────────────────┼─────────────────┼─────────────────┤
│ EconRA          │ EconRost        │ Fluoro          │
├─────────────────┼─────────────────┼─────────────────┤
│ Kiosk           │ KTFOMSAgentDisp │ KTFOMSAgentGosp │
├─────────────────┼─────────────────┼─────────────────┤
│ KTFOMSAgentPolis│ KTFOMSAgentReg  │ KubNaprAgent    │
├─────────────────┼─────────────────┼─────────────────┤
│ MainSestStac    │ MedOsm          │ MISAgent        │
├─────────────────┼─────────────────┼─────────────────┤
│ OtdelStac       │ Pokoy           │ RegPeople       │
├─────────────────┼─────────────────┼─────────────────┤
│ RegPol          │ San             │ SanDoc          │
├─────────────────┼─────────────────┼─────────────────┤
│ SpravkaOMS      │ StatPol         │ StatStac        │
├─────────────────┼─────────────────┼─────────────────┤
│ StatYear        │ Tablo           │ Talon           │
├─────────────────┼─────────────────┼─────────────────┤
│ Vedom           │ VistaAgent      │ WrachPol        │
└─────────────────┴─────────────────┴─────────────────┘
```

## 📋 Требования к системе

### 🖥️ Минимальные требования

| Компонент | Требование |
| --- | --- |
| **Операционная система** | RedOS 7+, RHEL 8+, CentOS 8+, Fedora 30+ |
| **Права доступа** | root (sudo) |
| **Дисковое пространство** | 2 ГБ свободного места |
| **Оперативная память** | 2 ГБ ОЗУ |
| **Сеть** | Доступ к интернету и сетевой шаре |

### 🔗 Сетевые требования

- ✅ Доступ к GitHub для загрузки скрипта
- ✅ Доступ к репозиториям ОС для зависимостей
- ✅ Доступ к сетевой шаре с файлами MedOrg

## 🛠️ Установка

### Вариант 1: Автоматическая установка

```
curl -sSL https://raw.githubusercontent.com/kubinets/medorg-installer/main/install.sh | sudo bash
```

### Вариант 2: Ручная установка

```
# Клонировать репозиторий
git clone https://github.com/kubinets/medorg-installer.git
cd medorg-installer

# Настроить права
chmod +x install.sh

# Запустить установку
sudo ./install.sh
```

## 📝 Использование

1. **Запуск установщика**

	```
	sudo ./install.sh
	```
2. **Ввод данных**
	- Введите имя пользователя для настройки окружения
	- Выберите модули для установки
3. **Завершение установки**
	- Войдите в систему под указанным пользователем
	- Ярлыки появятся в папке "Медицинские программы" на рабочем столе

## 🔧 Исправление проблем

### Проблема с midas.dll

Если возникают ошибки регистра букв в файлах midas.dll:

```
# Запустите скрипт исправления
~/fix_midas_case.sh
```

### Проверка установки Wine

```
# Проверить версию Wine
wine --version

# Проверить настройки Wine
winecfg
```

## 📁 Структура проекта

```
medorg-installer/
├── 📄 install.sh                    # Главный скрипт установки
├── 📄 README.md                     # Документация
├── 📂 modules/                      # Модули установки
│   ├── 📄 01-dependencies.sh        # Установка зависимостей
│   ├── 📄 02-wine-setup.sh          # Настройка Wine
│   ├── 📄 03-copy-files.sh          # Копирование файлов
│   ├── 📄 04-fix-midas.sh           # Исправление midas.dll
│   └── 📄 05-create-shortcuts.sh    # Создание ярлыков
└── 📄 LICENSE                       # Лицензия MIT
```

## 📚 Разработка

### Внесение изменений

1. Форкните репозиторий
2. Создайте ветку для новой функции
3. Зафиксируйте изменения
4. Отправьте Pull Request

### Тестирование

```
# Тестирование на чистой системе
docker run -it --rm redos/redos:7.3 bash
```

## 📄 Лицензия

Этот проект распространяется под лицензией **MIT**. Полный текст лицензии доступен в файле [LICENSE](https://license/).

---

## 🤝 Поддержка

### Дистрибутивы

- ✅ **RedOS** — основная поддерживаемая платформа
- ✅ **RHEL/CentOS** — полная совместимость
- ✅ **Fedora** — требуется проверка версий Wine
- ⚠️ **Ubuntu/Debian** — может потребоваться адаптация скриптов

### Получение помощи

- 📖 Изучите эту документацию
- 🔍 Проверьте логи установки в `/var/log/`
- 🐛 Сообщите о проблемах в Issues репозитория

---

